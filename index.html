<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="icon" type="image/png" href="/MyJot/favicons/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/MyJot/favicons/favicon.svg" />
    <link rel="shortcut icon" href="/MyJot/favicons/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/MyJot/favicons/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="MyJot" />
    <link rel="manifest" href="/MyJot/manifest.json" />

    <!-- Custom metadata: defines page-specific CSS and JS resources to load via a comma‑separated list. Failures are unhandled to ensure fast failure -->
    <meta data-custom-stylesheets="/MyJot/css/site/fileLoad/fileLoad.css">
    <meta data-custom-scripts="/MyJot/js/site/fileLoad/fileLoadScripts.js">

    <title>MyJot</title>

    <!-- Import the shared app setup script to dynamically add the necessary site CSS/JS and vendor CSS/JS to the document head. -->
    <script type="module" src="/MyJot/js/site/shared/SharedAppSetup.js"></script>

    <!-- Register the MyJot service worker to enable offline PWA support -->
    <script>
      // Check if the browser supports service workers
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker
          .register("/MyJot/myJotServiceWorker.js")
          .then((registration) => {
            console.log("Service worker registered successfully:", registration);
          })
          .catch((error) => {
            console.error("Service worker registration failed:", error);
          });
      } else {
        console.error("Service workers are not supported in this browser.");
      }
    </script>
  </head>
  <body>
    <div class="container" id="file-upload-page-container">
      <header>
        <div class="alert alert-danger mb-5 d-none" id="file-upload-errors-alert" role="alert"></div>
        <h1>
          <i class="fa-solid fa-square-pen"></i>
          MyJot
        </h1>
        <p> Track your workouts and meals without ever needing to share your data. No sign up required. </p>
      </header>
      <section>
        <input class="form-control" type="file" id="file-upload-input" accept=".myjot">
      </section>
      <footer>
        <a href="">New to MyJot? Start here ➔</a>
      </footer>
    </div>
  </body>
</html>